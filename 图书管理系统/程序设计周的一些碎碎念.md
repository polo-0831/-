# 程序设计周的一些碎碎念----------图书管理系统

​	为期~~五天~~，三天的程序设计告一段落了。到目前为止代码前后端的编写已经完成。在这三天的时间里，小谢和我算是体验了一把程序设计的事与愿违。

## 第零天

​	程序设计周开始前的周末，我们已经确认好了题目-----图书管理系统。由于小谢手头上拥有图书馆管理系统的项目“遗产”（来源懂得都懂好吧），我们初步决定在该项目C语言的基础上完善我们题目要求的功能，并采用Qt作为前端人机交互界面的实现方法，大致分工为小谢为后端，编写C语言算法程序实现排序、增改等功能；我为前端，用基于C艹的Qt creator实现人机交互页面。一开始我们都信誓旦旦，夸下~~山盟海誓~~，一天就能写完！

## 第一天

​	第一天我们都兴冲冲的去机房干活，对未来充满希望和憧憬。

### Qt creator和我的邂逅

​	由于我蹩脚的C艹能力以及学习能力，一个上午现学现卖，只实现了Qt中的按钮切换窗口界面功能（纯纯的Ctrl CV小丑罢了）。

​	第一次接触Qt是在pixhawk飞控开发教程文档里看到的，pix的地面站就是用Qt开发的。Qt是一个图形化界面编程平台，拥有方便的图形化编程方法，拥有一番天地。Qt之所以能把各个控件连接起来，关键在于信号与槽的两个概念。两个控件，比如输入框和按钮之间，它们是毫不相关的两个Class，类里只定义了自己长什么样子和能干什么，而Qt中的信号和槽就是连接这两者的桥梁。我们可以设置按钮按下去发送信号给按钮外部，这时候输入框里的槽函数会接收到信号并且完成槽函数内部的代码工作（就像是回调函数一样），槽和信号之间通过connect函数绑定，即绑定什么信号响应什么槽，且一个信号可以绑定多个槽。

​	理解了信号与槽就等于理解了Qt的一半。可是作为小丑的我理解了这个远远不够，槽函数内部怎么编写，需要理解Qt的工程代码逻辑，我研究了整整一天，毫无头绪...........就简单的按键切换界面这一功能来说，网络上大神的方法百花齐放，有用自定义信号的，有自己写control类的...这些都不利于我理解代码结构。于是Ctrl CV后虽然能实现界面切换，但是我不能在此基础上改动，因为我看不懂它槽函数内的代码逻辑：是把现在这个窗体的class关掉再开另一个窗体的class吗？于是我遇到了瓶颈。

​	一天过去了，我的进展几乎为零。

### 小谢与C的争斗

​	长话短说，C语言的char型和int型转换把他整不明白了。作为使用python编程的他，根本不会考虑这么多数据类型的问题（懂得都懂），这个类型转换的问题也卡住了他许久，最终破防。

### 修改方案

​	没错，白忙活了一天，我们决定用python从头开始写，基于原有C语言的代码工程将其功能迁移过来。而我，抛弃这个对新手不友好的Qt，采用了python自带的tkinter库来进行人机交互。

## 第二天和第三天

### 关于我和tkinter的邂逅

​	tkinter是python自带的库，只要下载了python就能import。之所以选择它是因为他代码结构简单，对新手友好。

​	tkinter中对窗体的定义与Qt大相径庭，也是采用类来定义。主要运行思路是将窗体放入主循环mainloop就可以了。窗口切换就简单的多了，我在按钮按下进入的事件函数（理解为回调函数和上面的槽函数）内将mainloop里这个窗体去掉，重新打开另一个窗体即可，代码只需1行......................

​	于是我便上手了，现学现卖，实现了按钮、文本、输入框、下拉选择栏等功能，并且在网上能搜到这些控件如何使用，有什么方法和函数。接下来就是和小谢后端链条了。



## 关于联调，我想说......

​	我认为，联调最重要的是和队友交流好，把代码需要的接口告诉后端队友，比如一个函数输入什么，输出0或1作为判断还是其它等等。但由于事先我并不会tkinter，无法与小谢沟通，为了节省时间，小谢就按照他的思路来写后端算法，接口等我把前端写好在改进。

​	

​	